Object AmericaVehicleCommandTruck
  ;Mobile Command Center
  ; *** ART Parameters ***
  SelectPortrait         = SAPOWTruck_L
  ButtonImage            = SAPowTruck

  UpgradeCameo1 = Upgrade_AmericaCompositeArmor
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw                   = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ConditionState       = NONE
      Model              = AVPOWTRUCK
    End

    ConditionState       = REALLYDAMAGED
      Model              = AVPOWTRUCK_D
    End

    ConditionState       = RUBBLE
      Model              = AVPOWTruck_D
    End

    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire05
    LeftRearTireBone           = Tire04
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName          = OBJECT:AmericaCommandTruck
  Side                 = America
  EditorSorting        = VEHICLE
  TransportSlotCount   = 0                 ;how many "slots" we take in a transport (0 == not transportable)

  EnergyProduction      = 5   ;It has a lil power generator

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY SupportVehicleDummyWeapon
    Weapon     = TERTIARY CameleonCamoflaugeWeapon
    AutoChooseSources = PRIMARY NONE
    AutoChooseSources = TERTIARY NONE
  End

  ArmorSet
    Conditions         = None
    Armor              = CommandTruckArmorAmerica
    DamageFX           = TankDamageFX
  End
  ; nope, sorry, can't build it. (srj)
  ;srj, it's buildable now ;)

  Prerequisites
    Object = AmericaCommandCenter
    Object = AmericaStrategyCenter
  End

  BuildCost            = 2500
  BuildTime            = 20.0          ;in seconds    
  VisionRange          = 200
  ShroudClearingRange  = 300

  MaxSimultaneousOfType  = 1
  MaxSimultaneousLinkKey = CommandTruck

  ExperienceValue      = 200 200 200 200  ; Experience point value at each level
  IsTrainable          = No             ;Can gain experience
  CrusherLevel         = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel       = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  CommandSet           = AmericaVehicleCommandTruckCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = AmericaCommandTankVoiceSelect
  VoiceMove   = AmericaCommandTankVoiceMove
  VoiceGuard  = AmericaCommandTankVoiceMove
  SoundEnter  = POWTruckEnter
  SoundExit   = POWTruckExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate           = AmericaCommandTankVoiceCreate
    SoundMoveStart        = POWTruckUSAMoveStart
    SoundMoveStartDamaged = POWTruckUSAMoveStart
    SoundEject            = PilotSoundEject
    VoiceEject            = PilotVoiceEject
    VoiceCrush            = POWTruckUSAVoiceCrush

    TruckLandingSound     = RocketBuggyLand
    TruckPowerslideSound  = POWTruckUSAMoveStart
    VoiceEnter            = AmericaCommandTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK VEHICLE SCORE IGNORES_SELECT_ALL COMMANDCENTER FS_FACTORY MP_COUNT_FOR_VICTORY FS_STRATEGY_CENTER FS_ADVANCED_TECH CANNOT_RETALIATE HERO DRONE ;no hijacks

  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 900.0
    InitialHealth        = 900.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2000
    SubdualDamageHealRate = 400
    SubdualDamageHealAmount = 100
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No 
  End
  Locomotor              = SET_NORMAL AmericaVehicleDozerLocomotor  ;;;;;POWTruckLocomotor

  Behavior = MaxHealthUpgrade ModuleTag_12318
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 250.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = ProductionUpdate ModuleTag_04
    ;nada
  End

  Behavior               = PhysicsBehavior ModuleTag_05
    Mass                 = 90.0
  End
  Behavior               = SlowDeathBehavior ModuleTag_06
    DeathTypes           = ALL
    ProbabilityModifier  = 25
    DestructionDelay     = 1
    FX                   = FINAL    FX_BattleMasterExplosionOneFinal
    OCL                  = FINAL    OCL_AmericanPOWTruckDeathEffect
  End
  Behavior               = FXListDie ModuleTag_07
    DeathTypes           = NONE +CRUSHED +SPLATTED
    DeathFX              = FX_CarCrush
  End
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = GrantUpgradeCreate ModuleTag_Tech01
    UpgradeToGrant     = Upgrade_ChinaRadar
  End
  Behavior        = RadarUpgrade ModuleTag_Tech02
    TriggeredBy   = Upgrade_ChinaRadar
    DisableProof  = Yes ; Won't be disabled by power low
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_Tech03
    UnitCreatePoint   = X:-10.0  Y:0.0   Z:0.0
    NaturalRallyPoint = X:-18.0  Y:0.0   Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = AutoDepositUpdate ModuleTag_Tech04
    DepositTiming       = 2000   ; in milliseconds
    DepositAmount       = 50   ; cash amount to deposit every DepositTiming
    InitialCaptureBonus = 0  ; no initial bonus
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_Tech05
    StartsActive  = Yes
    DamageTypes   = ALL
    ;Effectively all the time when set to zero which we want in this case
    DamageAmount  = 0
    ContinuousWeaponPristine      = AmbulanceRepairDecalWeapon
    ContinuousWeaponDamaged       = AmbulanceRepairDecalWeapon
    ContinuousWeaponReallyDamaged = AmbulanceRepairDecalWeapon
  End

  Behavior = AutoHealBehavior ModuleTag_Tech06
    HealingAmount      = 6
    HealingDelay       = 1000 ; msec
    Radius             = 100.0
    KindOf             = VEHICLE
    ForbiddenKindOf    = AIRCRAFT
    SkipSelfForHealing = No
    StartsActive       = Yes
  End

  Behavior = AutoHealBehavior ModuleTag_Tech07
    HealingAmount     = 4
    HealingDelay      = 1000 ; msec
    Radius            = 100.0
    StartsActive      = Yes
    KindOf            = INFANTRY
  End

  Behavior = FireWeaponUpdate ModuleTag_Tech08
    Weapon = AmbulanceHealDecalWeapon
  End

  Behavior = StealthUpdate ModuleTag_Camonet01
    StealthDelay                = 2000
    StealthForbiddenConditions  = MOVING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = No
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  ;These two modules spawn an invisible drone that is a type of STRUCTURE and MP_COUNT_FOR_VICTORY
  ;(Scenario is with 0 other buildings.) When the Mobile CC is destroyed, the invisible drone falls to the ground and then dies like a normal battle drone
  ;When the drone dies, it is the last STRUCTURE you own, and thus you lose.
  Behavior = GrantUpgradeCreate ModuleTag_StructureConditions01
    UpgradeToGrant = Upgrade_AmericaBattleDrone
  End

  Behavior = ObjectCreationUpgrade ModuleTag_StructureConditions02
    UpgradeObject = OCL_AmericaCommandTankIsStructure
    TriggeredBy   = Upgrade_AmericaBattleDrone
  End

  Behavior = ObjectCreationUpgrade ModuleTag_CommandCenterDrone
    UpgradeObject = OCL_CommandCenterDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
  End


  ;Sciences here

  Behavior           = OCLSpecialPower ModuleTag_DoomsDay01
    SpecialPowerTemplate = SuperweaponSpawnLeechInfector
    OCL                  = SUPERWEAPON_LeechInfectorDrone
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior           = OCLSpecialPower ModuleTag_Sweet01
    SpecialPowerTemplate = SuperweaponSummonSweetTooth
    OCL                  = SUPERWEAPON_SweetTooth
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CommandSetUpgrade ModuleTag_CommandSetPowers01
    TriggeredBy = Upgrade_GLAWorkerFakeCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerRealCommandSet
    CommandSet = AmericaVehicleCommandTruckPowersCommandSet
  End
  
  Behavior = CommandSetUpgrade ModuleTag_CommandSetPowers02
    TriggeredBy = Upgrade_GLAWorkerRealCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
    CommandSet = AmericaVehicleCommandTruckCommandSet
  End

  Behavior           = OCLSpecialPower ModuleTag_Science01
    SpecialPowerTemplate = SuperweaponDaisyCutter
    UpgradeOCL           = SCIENCE_MOAB SUPERWEAPON_MOAB
    OCL                  = SUPERWEAPON_DaisyCutter
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science02
    SpecialPowerTemplate = SpecialPowerSpyDrone
    OCL                  = SUPERWEAPON_SpyDrone
    CreateLocation       = CREATE_ABOVE_LOCATION
  End
  Behavior           = OCLSpecialPower ModuleTag_Science03
    SpecialPowerTemplate = SuperweaponParadropAmerica
    UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
    UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
    OCL                  = SUPERWEAPON_Paradrop1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
  End 

  Behavior           = OCLSpecialPower ModuleTag_Science04
    SpecialPowerTemplate = SpecialPowerSpySatellite
    OCL                  = SUPERWEAPON_SpySatellite
    CreateLocation       = CREATE_AT_LOCATION
  End
  Behavior    = OCLSpecialPower ModuleTag_Science05
    SpecialPowerTemplate = SuperweaponCrateDrop
    OCL                  = SUPERWEAPON_CrateDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science06
    SpecialPowerTemplate = SuperweaponA10ThunderboltMissileStrike
    UpgradeOCL           = SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_A10ThunderboltMissileStrike3
    UpgradeOCL           = SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_A10ThunderboltMissileStrike2
    OCL                  = SUPERWEAPON_A10ThunderboltMissileStrike1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science07
    SpecialPowerTemplate = SuperweaponEmergencyRepair
    UpgradeOCL           = SCIENCE_EmergencyRepair3 SUPERWEAPON_RepairVehicles3
    UpgradeOCL           = SCIENCE_EmergencyRepair2 SUPERWEAPON_RepairVehicles2
    OCL                  = SUPERWEAPON_RepairVehicles1
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior           = OCLSpecialPower ModuleTag_Science09
    SpecialPowerTemplate = SuperweaponSpectreGunship
    UpgradeOCL           = SCIENCE_SpectreGunshipSolo3 SUPERWEAPON_SpectreMissileStrike3
    UpgradeOCL           = SCIENCE_SpectreGunshipSolo2 SUPERWEAPON_SpectreMissileStrike2
    OCL                  = SUPERWEAPON_SpectreMissileStrike1
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
  End

  Behavior           = OCLSpecialPower ModuleTag_Science10
    SpecialPowerTemplate = SuperweaponLeafletDrop
    OCL                  = SUPERWEAPON_LeafletDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = GrantScienceUpgrade ModuleTag_Science11
    GrantScience = SCIENCE_MOAB
    TriggeredBy = Upgrade_AmericaMOAB
  End
  
  Behavior           = OCLSpecialPower ModuleTag_Science12
    SpecialPowerTemplate = SuperweaponCarrierAirstrike
    OCL                  = SUPERWEAPON_F18HornetAirStrike
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior           = OCLSpecialPower ModuleTag_Science13
    SpecialPowerTemplate = SuperweaponCommandTruckAirstrike
    OCL                  = SUPERWEAPON_CommandTruckAirStrike
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = SpecialAbility ModuleTag_Science14
    SpecialPowerTemplate = SuperweaponSuperSpectreGunship
    UpdateModuleStartsAttack = Yes
  End

  Behavior           = SpectreGunshipDeploymentUpdate ModuleTag_Science15
    RequiredScience      = SCIENCE_SuperSpectreGunship
    SpecialPowerTemplate = SuperweaponSuperSpectreGunship
    GunshipTemplateName  = AmericaJetSpectreSkyKing
    AttackAreaRadius     = 300
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
                           ;other choices are: *NEAR_SOURCE *FARTHEST_FROM_SOURCE *NEAR_TARGET
  End


  Behavior = SpecialAbility ModuleTag_Strategy01
    SpecialPowerTemplate = SpecialAbilityCommandTruckChangeBattlePlans
    UpdateModuleStartsAttack = Yes
  End
  Behavior = BattlePlanUpdate ModuleTag_Strategy02
    SpecialPowerTemplate              = SpecialAbilityCommandTruckChangeBattlePlans

    ;Transition Timings
    BombardmentPlanAnimationTime      = 2500
    HoldTheLinePlanAnimationTime      = 2500
    SearchAndDestroyPlanAnimationTime = 2500
    TransitionIdleTime                = 0

    ;Messages
    BombardmentMessageLabel      = MESSAGE:BattlePlanBombardmentInitiated
    HoldTheLineMessageLabel      = MESSAGE:BattlePlanHoldTheLineInitiated
    SearchAndDestroyMessageLabel = MESSAGE:BattlePlanSearchAndDestroyInitiated

    ;Audio hooks
    BombardmentPlanUnpackSoundName        = StrategyCenter_BombardmentPlanUnpackSound
    BombardmentPlanPackSoundName          = StrategyCenter_BombardmentPlanPackSound
    BombardmentAnnouncementName           = StrategyCenter_BombardmentPlanAnnouncement
    SearchAndDestroyPlanUnpackSoundName   = StrategyCenter_SearchAndDestroyPlanUnpack
    SearchAndDestroyPlanIdleLoopSoundName = StrategyCenter_SearchAndDestroyPlanIdleLoop
    SearchAndDestroyPlanPackSoundName     = StrategyCenter_SearchAndDestroyPlanPack
    SearchAndDestroyAnnouncementName      = StrategyCenter_SearchAndDestroyAnnouncement
    HoldTheLinePlanUnpackSoundName        = StrategyCenter_HoldTheLinePlanUnpack
    HoldTheLinePlanPackSoundName          = StrategyCenter_HoldTheLinePlanPack
    HoldTheLineAnnouncementName           = StrategyCenter_HoldTheLineAnnouncement

    ;Army bonuses granted by different battle plans
    ValidMemberKindOf                   = INFANTRY CAN_ATTACK VEHICLE ;Battle plans affect any kind of these...
    InvalidMemberKindOf                 = DOZER STRUCTURE AIRCRAFT DRONE HARVESTER ;...but make sure they don't have any of these
    BattlePlanChangeParalyzeTime          = 5000 ;Subjected to paralyzation whenever a battle plan is changed.
    HoldTheLinePlanArmorDamageScalar      = 0.8 ;Armor damage bonus scalar -- LESS is better!
    SearchAndDestroyPlanSightRangeScalar  = 1.2 ;Sight range bonus -- more is better!
    ;***NOTE*** WEAPON bonuses for army are specified in GameData.ini file!

    ;Building bonuses granted based on battle plan mode.
    StrategyCenterSearchAndDestroySightRangeScalar = 2.0
    StrategyCenterSearchAndDestroyDetectsStealth   = No
    StrategyCenterHoldTheLineMaxHealthScalar       = 2.0
    StrategyCenterHoldTheLineMaxHealthChangeType   = PRESERVE_RATIO

  End

  Behavior                   = SpyVisionSpecialPower SpyTag_1
    SpecialPowerTemplate     = SuperweaponCIAIntelligence   
    BaseDuration             =  30000 ;in milliseconds
    BonusDurationPerCaptured =  10000 ;in milliseconds
    MaxDuration              = 240000 ;in milliseconds    
  End
  Behavior                   = SpyVisionUpdate SpyTag_2
    ;<NO DATA>
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 13.5     
  GeometryIsSmall     = Yes 
  Shadow              = SHADOW_VOLUME
  ShadowSizeX         = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;******************* AIRFORCE *******************
;************************************************
Object AirF_AmericaVehicleCommandTruck
  ;Mobile Command Center
  ; *** ART Parameters ***
  SelectPortrait         = SAPOWTruck_L
  ButtonImage            = SAPowTruck

  UpgradeCameo1 = Upgrade_AmericaDroneArmor
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw                   = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ConditionState       = NONE
      Model              = AVPOWTRUCK
    End

    ConditionState       = REALLYDAMAGED
      Model              = AVPOWTRUCK_D
    End

    ConditionState       = RUBBLE
      Model              = AVPOWTruck_D
    End

    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire05
    LeftRearTireBone           = Tire04
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName          = OBJECT:AmericaCommandTruck
  Side                 = AmericaAirForceGeneral
  EditorSorting        = VEHICLE
  TransportSlotCount   = 6                 ;how many "slots" we take in a transport (0 == not transportable)

  EnergyProduction      = 5   ;It has a lil power generator

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY SupportVehicleDummyWeapon
    Weapon     = TERTIARY CameleonCamoflaugeWeapon
    AutoChooseSources = PRIMARY NONE
    AutoChooseSources = TERTIARY NONE
  End

  ArmorSet
    Conditions         = None
    Armor              = CommandTruckArmorAmerica
    DamageFX           = TankDamageFX
  End
  ; nope, sorry, can't build it. (srj)
  ;srj, it's buildable now ;)

  Prerequisites
    Object = AirF_AmericaCommandCenter
    Object = AirF_AmericaStrategyCenter
  End

  BuildCost            = 2500
  BuildTime            = 20.0          ;in seconds    
  VisionRange          = 200
  ShroudClearingRange  = 300

  MaxSimultaneousOfType  = 1
  MaxSimultaneousLinkKey = CommandTruck

  ExperienceValue      = 200 200 200 200  ; Experience point value at each level
  IsTrainable          = No             ;Can gain experience
  CrusherLevel         = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel       = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  CommandSet           = AirF_AmericaVehicleCommandTruckCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = AmericaCommandTankVoiceSelect
  VoiceMove   = AmericaCommandTankVoiceMove
  VoiceGuard  = AmericaCommandTankVoiceMove
  SoundEnter  = POWTruckEnter
  SoundExit   = POWTruckExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate           = AmericaCommandTankVoiceCreate
    SoundMoveStart        = POWTruckUSAMoveStart
    SoundMoveStartDamaged = POWTruckUSAMoveStart
    SoundEject            = PilotSoundEject
    VoiceEject            = PilotVoiceEject
    VoiceCrush            = POWTruckUSAVoiceCrush

    TruckLandingSound     = RocketBuggyLand
    TruckPowerslideSound  = POWTruckUSAMoveStart
    VoiceEnter            = AmericaCommandTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK VEHICLE SCORE IGNORES_SELECT_ALL COMMANDCENTER FS_FACTORY MP_COUNT_FOR_VICTORY FS_STRATEGY_CENTER FS_ADVANCED_TECH CANNOT_RETALIATE HERO DRONE ;no hijacks

  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 900.0
    InitialHealth        = 900.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2000
    SubdualDamageHealRate = 400
    SubdualDamageHealAmount = 100
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No 
  End
  Locomotor              = SET_NORMAL AmericaVehicleDozerLocomotor  ;;;;;POWTruckLocomotor

  Behavior = MaxHealthUpgrade ModuleTag_12318
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 250.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = ProductionUpdate ModuleTag_04
    ;nada
  End

  Behavior               = PhysicsBehavior ModuleTag_05
    Mass                 = 90.0
  End
  Behavior               = SlowDeathBehavior ModuleTag_06
    DeathTypes           = ALL
    ProbabilityModifier  = 25
    DestructionDelay     = 1
    FX                   = FINAL    FX_BattleMasterExplosionOneFinal
    OCL                  = FINAL    OCL_AmericanPOWTruckDeathEffect
  End
  Behavior               = FXListDie ModuleTag_07
    DeathTypes           = NONE +CRUSHED +SPLATTED
    DeathFX              = FX_CarCrush
  End
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = GrantUpgradeCreate ModuleTag_Tech01
    UpgradeToGrant     = Upgrade_ChinaRadar
  End
  Behavior        = RadarUpgrade ModuleTag_Tech02
    TriggeredBy   = Upgrade_ChinaRadar
    DisableProof  = Yes ; Won't be disabled by power low
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_Tech03
    UnitCreatePoint   = X:-10.0  Y:0.0   Z:0.0
    NaturalRallyPoint = X:-18.0  Y:0.0   Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = AutoDepositUpdate ModuleTag_Tech04
    DepositTiming       = 2000   ; in milliseconds
    DepositAmount       = 50   ; cash amount to deposit every DepositTiming
    InitialCaptureBonus = 0  ; no initial bonus
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_Tech05
    StartsActive  = Yes
    DamageTypes   = ALL
    ;Effectively all the time when set to zero which we want in this case
    DamageAmount  = 0
    ContinuousWeaponPristine      = AmbulanceRepairDecalWeapon
    ContinuousWeaponDamaged       = AmbulanceRepairDecalWeapon
    ContinuousWeaponReallyDamaged = AmbulanceRepairDecalWeapon
  End

  Behavior = AutoHealBehavior ModuleTag_Tech06
    HealingAmount      = 6
    HealingDelay       = 1000 ; msec
    Radius             = 100.0
    KindOf             = VEHICLE
    ForbiddenKindOf    = AIRCRAFT
    SkipSelfForHealing = No
    StartsActive       = Yes
  End

  Behavior = AutoHealBehavior ModuleTag_Tech07
    HealingAmount     = 4
    HealingDelay      = 1000 ; msec
    Radius            = 100.0
    StartsActive      = Yes
    KindOf            = INFANTRY
  End

  Behavior = FireWeaponUpdate ModuleTag_Tech08
    Weapon = AmbulanceHealDecalWeapon
  End

  Behavior = StealthUpdate ModuleTag_Camonet01
    StealthDelay                = 2000
    StealthForbiddenConditions  = NONE
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = No
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  ;These two modules spawn an invisible drone that is a type of STRUCTURE and MP_COUNT_FOR_VICTORY
  ;(Scenario is with 0 other buildings.) When the Mobile CC is destroyed, the invisible drone falls to the ground and then dies like a normal battle drone
  ;When the drone dies, it is the last STRUCTURE you own, and thus you lose.
  Behavior = GrantUpgradeCreate ModuleTag_StructureConditions01
    UpgradeToGrant = Upgrade_AmericaBattleDrone
  End

  Behavior = ObjectCreationUpgrade ModuleTag_StructureConditions02
    UpgradeObject = OCL_AmericaCommandTankIsStructure
    TriggeredBy   = Upgrade_AmericaBattleDrone
  End

  ;Sciences here

  Behavior           = OCLSpecialPower ModuleTag_DoomsDay01
    SpecialPowerTemplate = SuperweaponSpawnLeechInfector
    OCL                  = SUPERWEAPON_LeechInfectorDrone
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior           = OCLSpecialPower ModuleTag_Sweet01
    SpecialPowerTemplate = SuperweaponSummonSweetTooth
    OCL                  = SUPERWEAPON_SweetTooth
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CommandSetUpgrade ModuleTag_CommandSetPowers01
    TriggeredBy = Upgrade_GLAWorkerFakeCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerRealCommandSet
    CommandSet = AirF_AmericaVehicleCommandTruckPowersCommandSet
  End
  
  Behavior = CommandSetUpgrade ModuleTag_CommandSetPowers02
    TriggeredBy = Upgrade_GLAWorkerRealCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
    CommandSet = AirF_AmericaVehicleCommandTruckCommandSet
  End

  Behavior           = OCLSpecialPower ModuleTag_Science01
    SpecialPowerTemplate = SuperweaponDaisyCutter
    UpgradeOCL           = SCIENCE_MOAB SUPERWEAPON_MOAB
    OCL                  = SUPERWEAPON_DaisyCutter
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science02
    SpecialPowerTemplate = SpecialPowerSpyDrone
    OCL                  = SUPERWEAPON_SpyDrone
    CreateLocation       = CREATE_ABOVE_LOCATION
  End
  Behavior           = OCLSpecialPower ModuleTag_Science03
    SpecialPowerTemplate = SuperweaponHALOdrop
    UpgradeOCL           = SCIENCE_HALOdrop3 SUPERWEAPON_Airf_Paradrop3
    UpgradeOCL           = SCIENCE_HALOdrop2 SUPERWEAPON_Airf_Paradrop2
    OCL                  = SUPERWEAPON_Airf_Paradrop1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
    OCLAdjustPositionToPassable = Yes 
  End
  Behavior = OCLSpecialPower ModuleTag_Science04
    SpecialPowerTemplate = AirF_SuperweaponCarpetBomb
    OCL                  = AirF_SUPERWEAPON_CarpetBomb
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End  
  Behavior           = OCLSpecialPower ModuleTag_Science05
    SpecialPowerTemplate = SpecialPowerSpySatellite
    OCL                  = SUPERWEAPON_SpySatellite
    CreateLocation       = CREATE_AT_LOCATION
  End
  Behavior    = OCLSpecialPower ModuleTag_Science06
    SpecialPowerTemplate = SuperweaponCrateDrop
    OCL                  = SUPERWEAPON_CrateDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science07
    SpecialPowerTemplate = AirF_SuperweaponA10ThunderboltMissileStrike
    UpgradeOCL           = AirF_SCIENCE_A10ThunderboltMissileStrike3 Airf_SUPERWEAPON_A10ThunderboltMissileStrike3
    UpgradeOCL           = AirF_SCIENCE_A10ThunderboltMissileStrike2 Airf_SUPERWEAPON_A10ThunderboltMissileStrike2
    OCL                  = Airf_SUPERWEAPON_A10ThunderboltMissileStrike1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science08
    SpecialPowerTemplate = Early_SuperweaponEmergencyRepair
    UpgradeOCL           = Early_SCIENCE_EmergencyRepair3 SUPERWEAPON_RepairVehicles3
    UpgradeOCL           = Early_SCIENCE_EmergencyRepair2 SUPERWEAPON_RepairVehicles2
    OCL                  = SUPERWEAPON_RepairVehicles1
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior           = OCLSpecialPower ModuleTag_Science09
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    UpgradeOCL           = SCIENCE_SpectreGunship3 SUPERWEAPON_SpectreMissileStrike3
    UpgradeOCL           = SCIENCE_SpectreGunship2 SUPERWEAPON_SpectreMissileStrike2
    OCL                  = SUPERWEAPON_SpectreMissileStrike1
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
  End

  Behavior           = OCLSpecialPower ModuleTag_Science10
    SpecialPowerTemplate = SuperweaponLeafletDrop
    OCL                  = SUPERWEAPON_LeafletDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = GrantScienceUpgrade ModuleTag_Science11
    GrantScience = SCIENCE_MOAB
    TriggeredBy = Upgrade_AmericaMOAB
  End

  Behavior           = OCLSpecialPower ModuleTag_Science12
    SpecialPowerTemplate = SuperweaponCommandTruckAirstrike
    OCL                  = SUPERWEAPON_CommandTruckAirStrike
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = SpecialAbility ModuleTag_Strategy01
    SpecialPowerTemplate = SpecialAbilityCommandTruckChangeBattlePlans
    UpdateModuleStartsAttack = Yes
  End
  Behavior = BattlePlanUpdate ModuleTag_Strategy02
    SpecialPowerTemplate              = SpecialAbilityCommandTruckChangeBattlePlans

    ;Transition Timings
    BombardmentPlanAnimationTime      = 2500
    HoldTheLinePlanAnimationTime      = 2500
    SearchAndDestroyPlanAnimationTime = 2500
    TransitionIdleTime                = 0

    ;Messages
    BombardmentMessageLabel      = MESSAGE:BattlePlanBombardmentInitiated
    HoldTheLineMessageLabel      = MESSAGE:BattlePlanHoldTheLineInitiated
    SearchAndDestroyMessageLabel = MESSAGE:BattlePlanSearchAndDestroyInitiated

    ;Audio hooks
    BombardmentPlanUnpackSoundName        = StrategyCenter_BombardmentPlanUnpackSound
    BombardmentPlanPackSoundName          = StrategyCenter_BombardmentPlanPackSound
    BombardmentAnnouncementName           = StrategyCenter_BombardmentPlanAnnouncement
    SearchAndDestroyPlanUnpackSoundName   = StrategyCenter_SearchAndDestroyPlanUnpack
    SearchAndDestroyPlanIdleLoopSoundName = StrategyCenter_SearchAndDestroyPlanIdleLoop
    SearchAndDestroyPlanPackSoundName     = StrategyCenter_SearchAndDestroyPlanPack
    SearchAndDestroyAnnouncementName      = StrategyCenter_SearchAndDestroyAnnouncement
    HoldTheLinePlanUnpackSoundName        = StrategyCenter_HoldTheLinePlanUnpack
    HoldTheLinePlanPackSoundName          = StrategyCenter_HoldTheLinePlanPack
    HoldTheLineAnnouncementName           = StrategyCenter_HoldTheLineAnnouncement

    ;Army bonuses granted by different battle plans
    ValidMemberKindOf                   = INFANTRY CAN_ATTACK VEHICLE ;Battle plans affect any kind of these...
    InvalidMemberKindOf                 = DOZER STRUCTURE AIRCRAFT DRONE HARVESTER ;...but make sure they don't have any of these
    BattlePlanChangeParalyzeTime          = 5000 ;Subjected to paralyzation whenever a battle plan is changed.
    HoldTheLinePlanArmorDamageScalar      = 0.8 ;Armor damage bonus scalar -- LESS is better!
    SearchAndDestroyPlanSightRangeScalar  = 1.2 ;Sight range bonus -- more is better!
    ;***NOTE*** WEAPON bonuses for army are specified in GameData.ini file!

    ;Building bonuses granted based on battle plan mode.
    StrategyCenterSearchAndDestroySightRangeScalar = 2.0
    StrategyCenterSearchAndDestroyDetectsStealth   = No
    StrategyCenterHoldTheLineMaxHealthScalar       = 2.0
    StrategyCenterHoldTheLineMaxHealthChangeType   = PRESERVE_RATIO

  End

  Behavior                   = SpyVisionSpecialPower SpyTag_1
    SpecialPowerTemplate     = SuperweaponCIAIntelligence   
    BaseDuration             =  30000 ;in milliseconds
    BonusDurationPerCaptured =  10000 ;in milliseconds
    MaxDuration              = 240000 ;in milliseconds    
  End
  Behavior                   = SpyVisionUpdate SpyTag_2
    ;<NO DATA>
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 13.5     
  GeometryIsSmall     = Yes 
  Shadow              = SHADOW_VOLUME
  ShadowSizeX         = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End


;******************* LAZER *******************
;*********************************************
Object Lazr_AmericaVehicleCommandTruck
  ;Mobile Command Center
  ; *** ART Parameters ***
  SelectPortrait         = SAPOWTruck_L
  ButtonImage            = SAPowTruck

  UpgradeCameo1 = Upgrade_AmericaDroneArmor
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw                   = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ConditionState       = NONE
      Model              = AVPOWTRUCK
    End

    ConditionState       = REALLYDAMAGED
      Model              = AVPOWTRUCK_D
    End

    ConditionState       = RUBBLE
      Model              = AVPOWTruck_D
    End

    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire05
    LeftRearTireBone           = Tire04
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName          = OBJECT:AmericaCommandTruck
  Side                 = AmericaLaserGeneral
  EditorSorting        = VEHICLE
  TransportSlotCount   = 0                 ;how many "slots" we take in a transport (0 == not transportable)

  EnergyProduction      = 8   ;It has a lil power generator

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY SupportVehicleDummyWeapon
    Weapon     = TERTIARY CameleonCamoflaugeWeapon
    AutoChooseSources = PRIMARY NONE
    AutoChooseSources = TERTIARY NONE
  End

  ArmorSet
    Conditions         = None
    Armor              = CommandTruckArmorAmerica
    DamageFX           = TankDamageFX
  End
  ; nope, sorry, can't build it. (srj)
  ;srj, it's buildable now ;)

  Prerequisites
    Object = Lazr_AmericaCommandCenter
    Object = Lazr_AmericaStrategyCenter
  End

  BuildCost            = 2500
  BuildTime            = 20.0          ;in seconds    
  VisionRange          = 200
  ShroudClearingRange  = 300

  MaxSimultaneousOfType  = 1
  MaxSimultaneousLinkKey = CommandTruck

  ExperienceValue      = 200 200 200 200  ; Experience point value at each level
  IsTrainable          = No             ;Can gain experience
  CrusherLevel         = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel       = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  CommandSet           = Lazr_AmericaVehicleCommandTruckCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = AmericaCommandTankVoiceSelect
  VoiceMove   = AmericaCommandTankVoiceMove
  VoiceGuard  = AmericaCommandTankVoiceMove
  SoundEnter  = POWTruckEnter
  SoundExit   = POWTruckExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate           = AmericaCommandTankVoiceCreate
    SoundMoveStart        = POWTruckUSAMoveStart
    SoundMoveStartDamaged = POWTruckUSAMoveStart
    SoundEject            = PilotSoundEject
    VoiceEject            = PilotVoiceEject
    VoiceCrush            = POWTruckUSAVoiceCrush

    TruckLandingSound     = RocketBuggyLand
    TruckPowerslideSound  = POWTruckUSAMoveStart
    VoiceEnter            = AmericaCommandTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK VEHICLE SCORE IGNORES_SELECT_ALL COMMANDCENTER FS_FACTORY MP_COUNT_FOR_VICTORY FS_STRATEGY_CENTER FS_ADVANCED_TECH CANNOT_RETALIATE HERO DRONE ;no hijacks

  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 900.0
    InitialHealth        = 900.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2000
    SubdualDamageHealRate = 400
    SubdualDamageHealAmount = 100
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No  
  End
  Locomotor              = SET_NORMAL AmericaVehicleDozerLocomotor  ;;;;;POWTruckLocomotor

  Behavior = MaxHealthUpgrade ModuleTag_12318
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 250.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = ProductionUpdate ModuleTag_04
    ;nada
  End

  Behavior               = PhysicsBehavior ModuleTag_05
    Mass                 = 90.0
  End
  Behavior               = SlowDeathBehavior ModuleTag_06
    DeathTypes           = ALL
    ProbabilityModifier  = 25
    DestructionDelay     = 1
    FX                   = FINAL    FX_BattleMasterExplosionOneFinal
    OCL                  = FINAL    OCL_AmericanPOWTruckDeathEffect
  End
  Behavior               = FXListDie ModuleTag_07
    DeathTypes           = NONE +CRUSHED +SPLATTED
    DeathFX              = FX_CarCrush
  End
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = GrantUpgradeCreate ModuleTag_Tech01
    UpgradeToGrant     = Upgrade_ChinaRadar
  End
  Behavior        = RadarUpgrade ModuleTag_Tech02
    TriggeredBy   = Upgrade_ChinaRadar
    DisableProof  = Yes ; Won't be disabled by power low
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_Tech03
    UnitCreatePoint   = X:-10.0  Y:0.0   Z:0.0
    NaturalRallyPoint = X:-18.0  Y:0.0   Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = AutoDepositUpdate ModuleTag_Tech04
    DepositTiming       = 2000   ; in milliseconds
    DepositAmount       = 50   ; cash amount to deposit every DepositTiming
    InitialCaptureBonus = 0  ; no initial bonus
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_Tech05
    StartsActive  = Yes
    DamageTypes   = ALL
    ;Effectively all the time when set to zero which we want in this case
    DamageAmount  = 0
    ContinuousWeaponPristine      = AmbulanceRepairDecalWeapon
    ContinuousWeaponDamaged       = AmbulanceRepairDecalWeapon
    ContinuousWeaponReallyDamaged = AmbulanceRepairDecalWeapon
  End

  Behavior = AutoHealBehavior ModuleTag_Tech06
    HealingAmount      = 6
    HealingDelay       = 1000 ; msec
    Radius             = 100.0
    KindOf             = VEHICLE
    ForbiddenKindOf    = AIRCRAFT
    SkipSelfForHealing = No
    StartsActive       = Yes
  End

  Behavior = AutoHealBehavior ModuleTag_Tech07
    HealingAmount     = 4
    HealingDelay      = 1000 ; msec
    Radius            = 100.0
    StartsActive      = Yes
    KindOf            = INFANTRY
  End

  Behavior = FireWeaponUpdate ModuleTag_Tech08
    Weapon = AmbulanceHealDecalWeapon
  End

  Behavior = StealthUpdate ModuleTag_Camonet01
    StealthDelay                = 2000
    StealthForbiddenConditions  = MOVING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = No
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  ;These two modules spawn an invisible drone that is a type of STRUCTURE and MP_COUNT_FOR_VICTORY
  ;(Scenario is with 0 other buildings.) When the Mobile CC is destroyed, the invisible drone falls to the ground and then dies like a normal battle drone
  ;When the drone dies, it is the last STRUCTURE you own, and thus you lose.
  Behavior = GrantUpgradeCreate ModuleTag_StructureConditions01
    UpgradeToGrant = Upgrade_AmericaBattleDrone
  End

  Behavior = ObjectCreationUpgrade ModuleTag_StructureConditions02
    UpgradeObject = OCL_AmericaCommandTankIsStructure
    TriggeredBy   = Upgrade_AmericaBattleDrone
  End

  ;Sciences here

  Behavior           = OCLSpecialPower ModuleTag_DoomsDay01
    SpecialPowerTemplate = SuperweaponSpawnLeechInfector
    OCL                  = SUPERWEAPON_LeechInfectorDrone
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior           = OCLSpecialPower ModuleTag_Sweet01
    SpecialPowerTemplate = SuperweaponSummonSweetTooth
    OCL                  = SUPERWEAPON_SweetTooth
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CommandSetUpgrade ModuleTag_CommandSetPowers01
    TriggeredBy = Upgrade_GLAWorkerFakeCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerRealCommandSet
    CommandSet = Lazr_AmericaVehicleCommandTruckPowersCommandSet
  End
  
  Behavior = CommandSetUpgrade ModuleTag_CommandSetPowers02
    TriggeredBy = Upgrade_GLAWorkerRealCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
    CommandSet = Lazr_AmericaVehicleCommandTruckCommandSet
  End

  Behavior           = OCLSpecialPower ModuleTag_Science01
    SpecialPowerTemplate = SuperweaponDaisyCutter
    UpgradeOCL           = SCIENCE_MOAB SUPERWEAPON_MOAB
    OCL                  = SUPERWEAPON_DaisyCutter
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science02
    SpecialPowerTemplate = SpecialPowerSpyDrone
    OCL                  = SUPERWEAPON_SpyDrone
    CreateLocation       = CREATE_ABOVE_LOCATION
  End
  Behavior           = OCLSpecialPower ModuleTag_Science03
    SpecialPowerTemplate = Lazr_SuperweaponParadropAmerica
    UpgradeOCL           = Lazr_SCIENCE_Paradrop3 Lazr_SUPERWEAPON_Paradrop3
    UpgradeOCL           = Lazr_SCIENCE_Paradrop2 Lazr_SUPERWEAPON_Paradrop2
    OCL                  = Lazr_SUPERWEAPON_Paradrop1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
  End 
  Behavior = OCLSpecialPower ModuleTag_Science04
   SpecialPowerTemplate = SuperweaponCarpetBomb
   OCL = SUPERWEAPON_CarpetBomb
  End 
  Behavior           = OCLSpecialPower ModuleTag_Science05
    SpecialPowerTemplate = SpecialPowerSpySatellite
    OCL                  = SUPERWEAPON_SpySatellite
    CreateLocation       = CREATE_AT_LOCATION
  End
  Behavior    = OCLSpecialPower ModuleTag_Science06
    SpecialPowerTemplate = SuperweaponCrateDrop
    OCL                  = SUPERWEAPON_CrateDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science07
    SpecialPowerTemplate = Lazr_SuperweaponA10ThunderboltMissileStrike ;@@KRIS@@
    UpgradeOCL           = Lazr_SCIENCE_A10ThunderboltMissileStrike3 Lazr_SUPERWEAPON_A10ThunderboltMissileStrike3
    UpgradeOCL           = Lazr_SCIENCE_A10ThunderboltMissileStrike2 Lazr_SUPERWEAPON_A10ThunderboltMissileStrike2
    OCL                  = Lazr_SUPERWEAPON_A10ThunderboltMissileStrike1
    CreateLocation       = CREATE_AT_LOCATION;CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science08
    SpecialPowerTemplate = SuperweaponEmergencyRepair
    UpgradeOCL           = SCIENCE_EmergencyRepair3 SUPERWEAPON_RepairVehicles3
    UpgradeOCL           = SCIENCE_EmergencyRepair2 SUPERWEAPON_RepairVehicles2
    OCL                  = SUPERWEAPON_RepairVehicles1
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior           = OCLSpecialPower ModuleTag_6836
    SpecialPowerTemplate = SuperweaponMechAmbush
    OCL                  = SUPERWEAPON_AmericaMechCreation
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior           = OCLSpecialPower ModuleTag_Science10
    SpecialPowerTemplate = SuperweaponSpectreGunship
    UpgradeOCL           = SCIENCE_SpectreGunshipSolo3 SUPERWEAPON_SpectreMissileStrike3
    UpgradeOCL           = SCIENCE_SpectreGunshipSolo2 SUPERWEAPON_SpectreMissileStrike2
    OCL                  = SUPERWEAPON_SpectreMissileStrike1
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
  End

  Behavior           = OCLSpecialPower ModuleTag_Science11
    SpecialPowerTemplate = SuperweaponLeafletDrop
    OCL                  = SUPERWEAPON_LeafletDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = GrantScienceUpgrade ModuleTag_Science12
    GrantScience = SCIENCE_MOAB
    TriggeredBy = Upgrade_AmericaMOAB
  End

  Behavior           = OCLSpecialPower ModuleTag_Science13
    SpecialPowerTemplate = SuperweaponCommandTruckAirstrike
    OCL                  = SUPERWEAPON_CommandTruckAirStrike
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = SpecialAbility ModuleTag_Strategy01
    SpecialPowerTemplate = SpecialAbilityCommandTruckChangeBattlePlans
    UpdateModuleStartsAttack = Yes
  End
  Behavior = BattlePlanUpdate ModuleTag_Strategy02
    SpecialPowerTemplate              = SpecialAbilityCommandTruckChangeBattlePlans

    ;Transition Timings
    BombardmentPlanAnimationTime      = 2500
    HoldTheLinePlanAnimationTime      = 2500
    SearchAndDestroyPlanAnimationTime = 2500
    TransitionIdleTime                = 0

    ;Messages
    BombardmentMessageLabel      = MESSAGE:BattlePlanBombardmentInitiated
    HoldTheLineMessageLabel      = MESSAGE:BattlePlanHoldTheLineInitiated
    SearchAndDestroyMessageLabel = MESSAGE:BattlePlanSearchAndDestroyInitiated

    ;Audio hooks
    BombardmentPlanUnpackSoundName        = StrategyCenter_BombardmentPlanUnpackSound
    BombardmentPlanPackSoundName          = StrategyCenter_BombardmentPlanPackSound
    BombardmentAnnouncementName           = StrategyCenter_BombardmentPlanAnnouncement
    SearchAndDestroyPlanUnpackSoundName   = StrategyCenter_SearchAndDestroyPlanUnpack
    SearchAndDestroyPlanIdleLoopSoundName = StrategyCenter_SearchAndDestroyPlanIdleLoop
    SearchAndDestroyPlanPackSoundName     = StrategyCenter_SearchAndDestroyPlanPack
    SearchAndDestroyAnnouncementName      = StrategyCenter_SearchAndDestroyAnnouncement
    HoldTheLinePlanUnpackSoundName        = StrategyCenter_HoldTheLinePlanUnpack
    HoldTheLinePlanPackSoundName          = StrategyCenter_HoldTheLinePlanPack
    HoldTheLineAnnouncementName           = StrategyCenter_HoldTheLineAnnouncement

    ;Army bonuses granted by different battle plans
    ValidMemberKindOf                   = INFANTRY CAN_ATTACK VEHICLE ;Battle plans affect any kind of these...
    InvalidMemberKindOf                 = DOZER STRUCTURE AIRCRAFT DRONE HARVESTER ;...but make sure they don't have any of these
    BattlePlanChangeParalyzeTime          = 5000 ;Subjected to paralyzation whenever a battle plan is changed.
    HoldTheLinePlanArmorDamageScalar      = 0.8 ;Armor damage bonus scalar -- LESS is better!
    SearchAndDestroyPlanSightRangeScalar  = 1.2 ;Sight range bonus -- more is better!
    ;***NOTE*** WEAPON bonuses for army are specified in GameData.ini file!

    ;Building bonuses granted based on battle plan mode.
    StrategyCenterSearchAndDestroySightRangeScalar = 2.0
    StrategyCenterSearchAndDestroyDetectsStealth   = No
    StrategyCenterHoldTheLineMaxHealthScalar       = 2.0
    StrategyCenterHoldTheLineMaxHealthChangeType   = PRESERVE_RATIO

  End

  Behavior                   = SpyVisionSpecialPower SpyTag_1
    SpecialPowerTemplate     = SuperweaponCIAIntelligence   
    BaseDuration             =  30000 ;in milliseconds
    BonusDurationPerCaptured =  10000 ;in milliseconds
    MaxDuration              = 240000 ;in milliseconds    
  End
  Behavior                   = SpyVisionUpdate SpyTag_2
    ;<NO DATA>
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 13.5     
  GeometryIsSmall     = Yes 
  Shadow              = SHADOW_VOLUME
  ShadowSizeX         = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;******************* TRAIN *******************
;*********************************************
Object SupW_AmericaVehicleCommandTruck
  ;Mobile Command Center
  ; *** ART Parameters ***
  SelectPortrait         = SAPOWTruck_L
  ButtonImage            = SAPowTruck

  UpgradeCameo1 = Upgrade_AmericaDroneArmor
  UpgradeCameo2 = Upgrade_AmericaAdvancedControlRods
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw                   = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ConditionState       = NONE
      Model              = AVPOWTRUCK
    End

    ConditionState       = REALLYDAMAGED
      Model              = AVPOWTRUCK_D
    End

    ConditionState       = RUBBLE
      Model              = AVPOWTruck_D
    End

    ConditionState = USER_1 ;
      Model         = AVPOWTRUCK
      ParticleSysBone = SMOKE03 LiveWireSparks02
      ParticleSysBone = FIREPOINT01 LiveWireSparks
      ParticleSysBone = FIREPOINT02 LiveWireSparks02
      ParticleSysBone = FIREPOINT03 LiveWireSparks02 
      ParticleSysBone = FIREPOINT04 LiveWireSparks
      ParticleSysBone = FIREPOINT05 LiveWireSparks02
      ParticleSysBone = FIREPOINT06 LiveWireSparks 
      ParticleSysBone = FIREPOINT07 LiveWireSparks
      ParticleSysBone = FIREPOINT08 LiveWireSparks
    End

    ConditionState = REALLYDAMAGED USER_1 ;
      Model         = AVPOWTRUCK_D
      ParticleSysBone = SMOKE03 LiveWireSparks02
      ParticleSysBone = FIREPOINT01 LiveWireSparks
      ParticleSysBone = FIREPOINT02 LiveWireSparks02
      ParticleSysBone = FIREPOINT03 LiveWireSparks02 
      ParticleSysBone = FIREPOINT04 LiveWireSparks
      ParticleSysBone = FIREPOINT05 LiveWireSparks02
      ParticleSysBone = FIREPOINT06 LiveWireSparks 
      ParticleSysBone = FIREPOINT07 LiveWireSparks
      ParticleSysBone = FIREPOINT08 LiveWireSparks
    End

    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire05
    LeftRearTireBone           = Tire04
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName          = OBJECT:AmericaCommandTruck
  Side                 = AmericaSuperWeaponGeneral
  EditorSorting        = VEHICLE
  TransportSlotCount   = 0                 ;how many "slots" we take in a transport (0 == not transportable)

  EnergyProduction     = 5   ;It has a lil power generator
  EnergyBonus          = 15

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY SupportVehicleDummyWeapon
    Weapon     = TERTIARY CameleonCamoflaugeWeapon
    AutoChooseSources = PRIMARY NONE
    AutoChooseSources = TERTIARY NONE
  End

  ArmorSet
    Conditions         = None
    Armor              = CommandTruckArmorAmerica
    DamageFX           = TankDamageFX
  End
  ; nope, sorry, can't build it. (srj)
  ;srj, it's buildable now ;)

  Prerequisites
    Object = SupW_AmericaCommandCenter
    Object = SupW_AmericaStrategyCenter
  End

  BuildCost            = 2500
  BuildTime            = 20.0          ;in seconds    
  VisionRange          = 200
  ShroudClearingRange  = 300

  MaxSimultaneousOfType  = 1
  MaxSimultaneousLinkKey = CommandTruck

  ExperienceValue      = 200 200 200 200  ; Experience point value at each level
  IsTrainable          = No             ;Can gain experience
  CrusherLevel         = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel       = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  CommandSet           = SupW_AmericaVehicleCommandTruckCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = AmericaCommandTankVoiceSelect
  VoiceMove   = AmericaCommandTankVoiceMove
  VoiceGuard  = AmericaCommandTankVoiceMove
  SoundEnter  = POWTruckEnter
  SoundExit   = POWTruckExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate           = AmericaCommandTankVoiceCreate
    SoundMoveStart        = POWTruckUSAMoveStart
    SoundMoveStartDamaged = POWTruckUSAMoveStart
    SoundEject            = PilotSoundEject
    VoiceEject            = PilotVoiceEject
    VoiceCrush            = POWTruckUSAVoiceCrush

    TruckLandingSound     = RocketBuggyLand
    TruckPowerslideSound  = POWTruckUSAMoveStart
    VoiceEnter            = AmericaCommandTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK VEHICLE SCORE IGNORES_SELECT_ALL EMP_HARDENED COMMANDCENTER FS_FACTORY MP_COUNT_FOR_VICTORY FS_STRATEGY_CENTER FS_ADVANCED_TECH CANNOT_RETALIATE HERO DRONE ;no hijacks

  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 900.0
    InitialHealth        = 900.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2000
    SubdualDamageHealRate = 400
    SubdualDamageHealAmount = 100
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No 
  End
  Locomotor              = SET_NORMAL AmericaVehicleDozerLocomotor  ;;;;;POWTruckLocomotor

  Behavior = MaxHealthUpgrade ModuleTag_12318
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 250.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = PowerPlantUpgrade ModuleTag_Rods01
    TriggeredBy = Upgrade_AmericaAdvancedControlRods
  End

  Behavior = PowerPlantUpdate ModuleTag_Rods02
    RodsExtendTime = 1
  End

  Behavior = ModelConditionUpgrade ModuleTag_Rods03
    ConditionFlag = USER_1
    TriggeredBy   = Upgrade_AmericaAdvancedControlRods
  End

  Behavior = ProductionUpdate ModuleTag_04
    ;nada
  End

  Behavior               = PhysicsBehavior ModuleTag_05
    Mass                 = 90.0
  End
  Behavior               = SlowDeathBehavior ModuleTag_06
    DeathTypes           = ALL
    ProbabilityModifier  = 25
    DestructionDelay     = 1
    FX                   = FINAL    FX_BattleMasterExplosionOneFinal
    OCL                  = FINAL    OCL_AmericanPOWTruckDeathEffect
  End
  Behavior               = FXListDie ModuleTag_07
    DeathTypes           = NONE +CRUSHED +SPLATTED
    DeathFX              = FX_CarCrush
  End
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = GrantUpgradeCreate ModuleTag_Tech01
    UpgradeToGrant     = Upgrade_ChinaRadar
  End
  Behavior        = RadarUpgrade ModuleTag_Tech02
    TriggeredBy   = Upgrade_ChinaRadar
    DisableProof  = Yes ; Won't be disabled by power low
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_Tech03
    UnitCreatePoint   = X:-10.0  Y:0.0   Z:0.0
    NaturalRallyPoint = X:-18.0  Y:0.0   Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = AutoDepositUpdate ModuleTag_Tech04
    DepositTiming       = 2000   ; in milliseconds
    DepositAmount       = 50   ; cash amount to deposit every DepositTiming
    InitialCaptureBonus = 0  ; no initial bonus
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_Tech05
    StartsActive  = Yes
    DamageTypes   = ALL
    ;Effectively all the time when set to zero which we want in this case
    DamageAmount  = 0
    ContinuousWeaponPristine      = AmbulanceRepairDecalWeapon
    ContinuousWeaponDamaged       = AmbulanceRepairDecalWeapon
    ContinuousWeaponReallyDamaged = AmbulanceRepairDecalWeapon
  End

  Behavior = AutoHealBehavior ModuleTag_Tech06
    HealingAmount      = 6
    HealingDelay       = 1000 ; msec
    Radius             = 100.0
    KindOf             = VEHICLE
    ForbiddenKindOf    = AIRCRAFT
    SkipSelfForHealing = No
    StartsActive       = Yes
  End

  Behavior = AutoHealBehavior ModuleTag_Tech07
    HealingAmount     = 4
    HealingDelay      = 1000 ; msec
    Radius            = 100.0
    StartsActive      = Yes
    KindOf            = INFANTRY
  End

  Behavior = FireWeaponUpdate ModuleTag_Tech08
    Weapon = AmbulanceHealDecalWeapon
  End

  Behavior = StealthUpdate ModuleTag_Camonet01
    StealthDelay                = 2000
    StealthForbiddenConditions  = MOVING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = No
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  ;These two modules spawn an invisible drone that is a type of STRUCTURE and MP_COUNT_FOR_VICTORY
  ;(Scenario is with 0 other buildings.) When the Mobile CC is destroyed, the invisible drone falls to the ground and then dies like a normal battle drone
  ;When the drone dies, it is the last STRUCTURE you own, and thus you lose.
  Behavior = GrantUpgradeCreate ModuleTag_StructureConditions01
    UpgradeToGrant = Upgrade_AmericaBattleDrone
  End

  Behavior = ObjectCreationUpgrade ModuleTag_StructureConditions02
    UpgradeObject = OCL_AmericaCommandTankIsStructure
    TriggeredBy   = Upgrade_AmericaBattleDrone
  End

  ;Sciences here

  Behavior           = OCLSpecialPower ModuleTag_DoomsDay01
    SpecialPowerTemplate = SuperweaponSpawnLeechInfector
    OCL                  = SUPERWEAPON_LeechInfectorDrone
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior           = OCLSpecialPower ModuleTag_Sweet01
    SpecialPowerTemplate = SuperweaponSummonSweetTooth
    OCL                  = SUPERWEAPON_SweetTooth
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CommandSetUpgrade ModuleTag_CommandSetPowers01
    TriggeredBy = Upgrade_GLAWorkerFakeCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerRealCommandSet
    CommandSet = SupW_AmericaVehicleCommandTruckPowersCommandSet
  End
  
  Behavior = CommandSetUpgrade ModuleTag_CommandSetPowers02
    TriggeredBy = Upgrade_GLAWorkerRealCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
    CommandSet = SupW_AmericaVehicleCommandTruckCommandSet
  End

  Behavior           = OCLSpecialPower ModuleTag_Science01
    SpecialPowerTemplate = SuperweaponDaisyCutter
    UpgradeOCL           = SCIENCE_MOAB SUPERWEAPON_MOAB
    OCL                  = SUPERWEAPON_DaisyCutter
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science02
    SpecialPowerTemplate = SpecialPowerSpyDrone
    OCL                  = SUPERWEAPON_SpyDrone
    CreateLocation       = CREATE_ABOVE_LOCATION
  End
  Behavior           = OCLSpecialPower ModuleTag_Science03
    SpecialPowerTemplate = SuperweaponTurretParadrop
    UpgradeOCL           = SCIENCE_TurretParadrop3 SUPERWEAPON_PopTurretParadrop3
    UpgradeOCL           = SCIENCE_TurretParadrop2 SUPERWEAPON_PopTurretParadrop2
    OCL                  = SUPERWEAPON_PopTurretParadrop1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
  End 
  Behavior = OCLSpecialPower ModuleTag_Science04
   SpecialPowerTemplate = SuperweaponCarpetBomb
   OCL = SUPERWEAPON_CarpetBomb
  End
  Behavior           = OCLSpecialPower ModuleTag_Science05
    SpecialPowerTemplate = SpecialPowerSpySatellite
    OCL                  = SUPERWEAPON_SpySatellite
    CreateLocation       = CREATE_AT_LOCATION
  End
  Behavior    = OCLSpecialPower ModuleTag_Science06
    SpecialPowerTemplate = SuperweaponCrateDrop
    OCL                  = SUPERWEAPON_CrateDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science07
    SpecialPowerTemplate = SupW_SuperweaponA10ThunderboltMissileStrike
    UpgradeOCL           = SupW_SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_RodsFromGod3
    UpgradeOCL           = SupW_SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_RodsFromGod2
    OCL                  = SUPERWEAPON_RodsFromGod1
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
  End
  Behavior           = OCLSpecialPower ModuleTag_Science08
    SpecialPowerTemplate = SuperweaponEmergencyRepair
    UpgradeOCL           = SCIENCE_EmergencyRepair3 SUPERWEAPON_RepairVehicles3
    UpgradeOCL           = SCIENCE_EmergencyRepair2 SUPERWEAPON_RepairVehicles2
    OCL                  = SUPERWEAPON_RepairVehicles1
    CreateLocation       = CREATE_AT_LOCATION
  End
  
  Behavior           = OCLSpecialPower ModuleTag_Science09
    SpecialPowerTemplate = SuperweaponHyperSonicCruiseMissile
    OCL                  = SUPERWEAPON_HyperSonicMissileStrike
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
  End

  Behavior           = OCLSpecialPower ModuleTag_Science10
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    UpgradeOCL           = SCIENCE_SpectreGunship3 SUPERWEAPON_SpectreMissileStrike3
    UpgradeOCL           = SCIENCE_SpectreGunship2 SUPERWEAPON_SpectreMissileStrike2
    OCL                  = SUPERWEAPON_SpectreMissileStrike1
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
  End

  Behavior           = OCLSpecialPower ModuleTag_Science11
    SpecialPowerTemplate = Early_SuperweaponLeafletDrop
    OCL                  = SUPERWEAPON_LeafletDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = GrantScienceUpgrade ModuleTag_Science12
    GrantScience = SCIENCE_MOAB
    TriggeredBy = Upgrade_AmericaMOAB
  End

  Behavior           = OCLSpecialPower ModuleTag_Science13
    SpecialPowerTemplate = SuperweaponCommandTruckAirstrike
    OCL                  = SUPERWEAPON_CommandTruckAirStrike
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = SpecialAbility ModuleTag_Strategy01
    SpecialPowerTemplate = SpecialAbilityCommandTruckChangeBattlePlans
    UpdateModuleStartsAttack = Yes
  End
  Behavior = BattlePlanUpdate ModuleTag_Strategy02
    SpecialPowerTemplate              = SpecialAbilityCommandTruckChangeBattlePlans

    ;Transition Timings
    BombardmentPlanAnimationTime      = 2500
    HoldTheLinePlanAnimationTime      = 2500
    SearchAndDestroyPlanAnimationTime = 2500
    TransitionIdleTime                = 0

    ;Messages
    BombardmentMessageLabel      = MESSAGE:BattlePlanBombardmentInitiated
    HoldTheLineMessageLabel      = MESSAGE:BattlePlanHoldTheLineInitiated
    SearchAndDestroyMessageLabel = MESSAGE:BattlePlanSearchAndDestroyInitiated

    ;Audio hooks
    BombardmentPlanUnpackSoundName        = StrategyCenter_BombardmentPlanUnpackSound
    BombardmentPlanPackSoundName          = StrategyCenter_BombardmentPlanPackSound
    BombardmentAnnouncementName           = StrategyCenter_BombardmentPlanAnnouncement
    SearchAndDestroyPlanUnpackSoundName   = StrategyCenter_SearchAndDestroyPlanUnpack
    SearchAndDestroyPlanIdleLoopSoundName = StrategyCenter_SearchAndDestroyPlanIdleLoop
    SearchAndDestroyPlanPackSoundName     = StrategyCenter_SearchAndDestroyPlanPack
    SearchAndDestroyAnnouncementName      = StrategyCenter_SearchAndDestroyAnnouncement
    HoldTheLinePlanUnpackSoundName        = StrategyCenter_HoldTheLinePlanUnpack
    HoldTheLinePlanPackSoundName          = StrategyCenter_HoldTheLinePlanPack
    HoldTheLineAnnouncementName           = StrategyCenter_HoldTheLineAnnouncement

    ;Army bonuses granted by different battle plans
    ValidMemberKindOf                   = INFANTRY CAN_ATTACK VEHICLE ;Battle plans affect any kind of these...
    InvalidMemberKindOf                 = DOZER STRUCTURE AIRCRAFT DRONE HARVESTER ;...but make sure they don't have any of these
    BattlePlanChangeParalyzeTime          = 5000 ;Subjected to paralyzation whenever a battle plan is changed.
    HoldTheLinePlanArmorDamageScalar      = 0.8 ;Armor damage bonus scalar -- LESS is better!
    SearchAndDestroyPlanSightRangeScalar  = 1.2 ;Sight range bonus -- more is better!
    ;***NOTE*** WEAPON bonuses for army are specified in GameData.ini file!

    ;Building bonuses granted based on battle plan mode.
    StrategyCenterSearchAndDestroySightRangeScalar = 2.0
    StrategyCenterSearchAndDestroyDetectsStealth   = No
    StrategyCenterHoldTheLineMaxHealthScalar       = 2.0
    StrategyCenterHoldTheLineMaxHealthChangeType   = PRESERVE_RATIO

  End

  Behavior                   = SpyVisionSpecialPower SpyTag_1
    SpecialPowerTemplate     = SuperweaponCIAIntelligence   
    BaseDuration             =  30000 ;in milliseconds
    BonusDurationPerCaptured =  10000 ;in milliseconds
    MaxDuration              = 240000 ;in milliseconds    
  End
  Behavior                   = SpyVisionUpdate SpyTag_2
    ;<NO DATA>
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 13.5     
  GeometryIsSmall     = Yes 
  Shadow              = SHADOW_VOLUME
  ShadowSizeX         = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;********************* ARMA *********************
;************************************************
Object Armor_AmericaVehicleCommandTruck
  ;Mobile Command Center
  ; *** ART Parameters ***
  SelectPortrait         = SAPOWTruck_L
  ButtonImage            = SAPowTruck

  ;UpgradeCameo1 = Upgrade_AmericaEnergyShieldGenerator
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw                   = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ConditionState       = NONE
      Model              = AVPOWTRUCK
    End

    ConditionState       = REALLYDAMAGED
      Model              = AVPOWTRUCK_D
    End

    ConditionState       = RUBBLE
      Model              = AVPOWTruck_D
    End

    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire05
    LeftRearTireBone           = Tire04
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName          = OBJECT:AmericaCommandTruck
  Side                 = AmericaArmorGeneral
  EditorSorting        = VEHICLE
  TransportSlotCount   = 0                 ;how many "slots" we take in a transport (0 == not transportable)

  EnergyProduction      = 5   ;It has a lil power generator

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY SupportVehicleDummyWeapon
    Weapon     = TERTIARY CameleonCamoflaugeWeapon
    AutoChooseSources = PRIMARY NONE
    AutoChooseSources = TERTIARY NONE
  End

  ArmorSet
    Conditions         = None
    Armor              = CommandTruckArmorAmerica
    DamageFX           = TankDamageFX
  End
  ; nope, sorry, can't build it. (srj)
  ;srj, it's buildable now ;)

  Prerequisites
    Object = Armor_AmericaCommandCenter
    Object = Armor_AmericaStrategyCenter
  End

  BuildCost            = 2500
  BuildTime            = 20.0          ;in seconds    
  VisionRange          = 200
  ShroudClearingRange  = 300

  MaxSimultaneousOfType  = 1
  MaxSimultaneousLinkKey = CommandTruck

  ExperienceValue      = 200 200 200 200  ; Experience point value at each level
  IsTrainable          = No             ;Can gain experience
  CrusherLevel         = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel       = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  CommandSet           = Armor_AmericaVehicleCommandTruckCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = AmericaCommandTankVoiceSelect
  VoiceMove   = AmericaCommandTankVoiceMove
  VoiceGuard  = AmericaCommandTankVoiceMove
  SoundEnter  = POWTruckEnter
  SoundExit   = POWTruckExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate           = AmericaCommandTankVoiceCreate
    SoundMoveStart        = POWTruckUSAMoveStart
    SoundMoveStartDamaged = POWTruckUSAMoveStart
    SoundEject            = PilotSoundEject
    VoiceEject            = PilotVoiceEject
    VoiceCrush            = POWTruckUSAVoiceCrush

    TruckLandingSound     = RocketBuggyLand
    TruckPowerslideSound  = POWTruckUSAMoveStart
    VoiceEnter            = AmericaCommandTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK VEHICLE SCORE IGNORES_SELECT_ALL COMMANDCENTER FS_FACTORY MP_COUNT_FOR_VICTORY FS_STRATEGY_CENTER FS_ADVANCED_TECH CANNOT_RETALIATE HERO DRONE ;no hijacks

  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 900.0
    InitialHealth        = 900.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2000
    SubdualDamageHealRate = 400
    SubdualDamageHealAmount = 100
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No
  End
  Locomotor              = SET_NORMAL AmericaVehicleDozerLocomotor  ;;;;;POWTruckLocomotor

  Behavior = ProductionUpdate ModuleTag_04
    ;nada
  End

  Behavior               = PhysicsBehavior ModuleTag_05
    Mass                 = 90.0
  End
  Behavior               = SlowDeathBehavior ModuleTag_06
    DeathTypes           = ALL
    ProbabilityModifier  = 25
    DestructionDelay     = 1
    FX                   = FINAL    FX_BattleMasterExplosionOneFinal
    OCL                  = FINAL    OCL_AmericanPOWTruckDeathEffect
  End
  Behavior               = FXListDie ModuleTag_07
    DeathTypes           = NONE +CRUSHED +SPLATTED
    DeathFX              = FX_CarCrush
  End
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = GrantUpgradeCreate ModuleTag_Tech01
    UpgradeToGrant     = Upgrade_ChinaRadar
  End
  Behavior        = RadarUpgrade ModuleTag_Tech02
    TriggeredBy   = Upgrade_ChinaRadar
    DisableProof  = Yes ; Won't be disabled by power low
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_Tech03
    UnitCreatePoint   = X:-10.0  Y:0.0   Z:0.0
    NaturalRallyPoint = X:-18.0  Y:0.0   Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = AutoDepositUpdate ModuleTag_Tech04
    DepositTiming       = 2000   ; in milliseconds
    DepositAmount       = 50   ; cash amount to deposit every DepositTiming
    InitialCaptureBonus = 0  ; no initial bonus
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_Tech05
    StartsActive  = Yes
    DamageTypes   = ALL
    ;Effectively all the time when set to zero which we want in this case
    DamageAmount  = 0
    ContinuousWeaponPristine      = AmbulanceRepairDecalWeapon
    ContinuousWeaponDamaged       = AmbulanceRepairDecalWeapon
    ContinuousWeaponReallyDamaged = AmbulanceRepairDecalWeapon
  End

  Behavior = AutoHealBehavior ModuleTag_Tech06
    HealingAmount      = 6
    HealingDelay       = 1000 ; msec
    Radius             = 100.0
    KindOf             = VEHICLE
    ForbiddenKindOf    = AIRCRAFT
    SkipSelfForHealing = No
    StartsActive       = Yes
  End

  Behavior = AutoHealBehavior ModuleTag_Tech07
    HealingAmount     = 4
    HealingDelay      = 1000 ; msec
    Radius            = 100.0
    StartsActive      = Yes
    KindOf            = INFANTRY
  End

  Behavior = FireWeaponUpdate ModuleTag_Tech08
    Weapon = AmbulanceHealDecalWeapon
  End

  Behavior = StealthUpdate ModuleTag_Camonet01
    StealthDelay                = 2000
    StealthForbiddenConditions  = MOVING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = No
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  ;These two modules spawn an invisible drone that is a type of STRUCTURE and MP_COUNT_FOR_VICTORY
  ;(Scenario is with 0 other buildings.) When the Mobile CC is destroyed, the invisible drone falls to the ground and then dies like a normal battle drone
  ;When the drone dies, it is the last STRUCTURE you own, and thus you lose.
  Behavior = GrantUpgradeCreate ModuleTag_StructureConditions01
    UpgradeToGrant = Upgrade_AmericaBattleDrone
  End

  Behavior = ObjectCreationUpgrade ModuleTag_StructureConditions02
    UpgradeObject = OCL_AmericaCommandTankIsStructure
    TriggeredBy   = Upgrade_AmericaBattleDrone
  End

  Behavior = MaxHealthUpgrade ModuleTag_ArmorAddon05
    TriggeredBy   = Upgrade_AmericaBattleDrone
    AddMaxHealth  = 250.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO
  End

  ;Sciences here

  Behavior           = OCLSpecialPower ModuleTag_DoomsDay01
    SpecialPowerTemplate = SuperweaponSpawnLeechInfector
    OCL                  = SUPERWEAPON_LeechInfectorDrone
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior           = OCLSpecialPower ModuleTag_Sweet01
    SpecialPowerTemplate = SuperweaponSummonSweetTooth
    OCL                  = SUPERWEAPON_SweetTooth
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CommandSetUpgrade ModuleTag_CommandSetPowers01
    TriggeredBy = Upgrade_GLAWorkerFakeCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerRealCommandSet
    CommandSet = Armor_AmericaVehicleCommandTruckPowersCommandSet
  End
  
  Behavior = CommandSetUpgrade ModuleTag_CommandSetPowers02
    TriggeredBy = Upgrade_GLAWorkerRealCommandSet
    RemovesUpgrades = Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
    CommandSet = Armor_AmericaVehicleCommandTruckCommandSet
  End

  Behavior           = OCLSpecialPower ModuleTag_Science01
    SpecialPowerTemplate = SuperweaponDaisyCutter
    UpgradeOCL           = SCIENCE_MOAB SUPERWEAPON_MOAB
    OCL                  = SUPERWEAPON_DaisyCutter
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science02
    SpecialPowerTemplate = SpecialPowerSpyDrone
    OCL                  = SUPERWEAPON_SpyDrone
    CreateLocation       = CREATE_ABOVE_LOCATION
  End
  Behavior           = OCLSpecialPower ModuleTag_Science03
    SpecialPowerTemplate = SuperweaponCrusaderParadrop
    UpgradeOCL           = SCIENCE_CrusaderParadrop3 Armor_SUPERWEAPON_TankParadrop3
    UpgradeOCL           = SCIENCE_CrusaderParadrop2 Armor_SUPERWEAPON_TankParadrop2
    OCL                  = Armor_SUPERWEAPON_TankParadrop1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
    OCLAdjustPositionToPassable = Yes
  End
  Behavior           = OCLSpecialPower ModuleTag_Science04 ;this has been removed from everywhere but the ChinaAirfield in CHI05
    SpecialPowerTemplate = SuperweaponB52CruisMissileStrike
    OCL                  = SUPERWEAPON_B52CruiseMissileStrike
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End 
  Behavior    = OCLSpecialPower ModuleTag_Science05
    SpecialPowerTemplate = SuperweaponCrateDrop
    OCL                  = SUPERWEAPON_CrateDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_Science06
    SpecialPowerTemplate = SuperweaponUSAArtilleryBarrage
    UpgradeOCL           = SCIENCE_USAArtilleryBarrage3 SUPERWEAPON_USAArtilleryBarrage3
    UpgradeOCL           = SCIENCE_USAArtilleryBarrage2 SUPERWEAPON_USAArtilleryBarrage2
    OCL                  = SUPERWEAPON_USAArtilleryBarrage1
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
  End
  Behavior           = OCLSpecialPower ModuleTag_Science07
    SpecialPowerTemplate = SuperweaponEmergencyRepair
    UpgradeOCL           = SCIENCE_EmergencyRepair3 SUPERWEAPON_RepairVehicles3
    UpgradeOCL           = SCIENCE_EmergencyRepair2 SUPERWEAPON_RepairVehicles2
    OCL                  = SUPERWEAPON_RepairVehicles1
    CreateLocation       = CREATE_AT_LOCATION
  End
  Behavior           = OCLSpecialPower ModuleTag_Science08
    SpecialPowerTemplate = SuperweaponA10ThunderboltMissileStrike
    UpgradeOCL           = SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_A10ThunderboltMissileStrike3
    UpgradeOCL           = SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_A10ThunderboltMissileStrike2
    OCL                  = SUPERWEAPON_A10ThunderboltMissileStrike1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior           = OCLSpecialPower ModuleTag_Science10
    SpecialPowerTemplate = SuperweaponSpectreGunship
    UpgradeOCL           = SCIENCE_SpectreGunshipSolo3 SUPERWEAPON_SpectreMissileStrike3
    UpgradeOCL           = SCIENCE_SpectreGunshipSolo2 SUPERWEAPON_SpectreMissileStrike2
    OCL                  = SUPERWEAPON_SpectreMissileStrike1
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
  End
  
  Behavior           = OCLSpecialPower ModuleTag_Science11
    SpecialPowerTemplate = SuperweaponLeafletDrop
    OCL                  = SUPERWEAPON_LeafletDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = GrantScienceUpgrade ModuleTag_Science12
    GrantScience = SCIENCE_MOAB
    TriggeredBy = Upgrade_AmericaMOAB
  End

  Behavior           = OCLSpecialPower ModuleTag_Science13
    SpecialPowerTemplate = SuperweaponCommandTruckAirstrike
    OCL                  = SUPERWEAPON_CommandTruckAirStrike
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = SpecialAbility ModuleTag_Strategy01
    SpecialPowerTemplate = SpecialAbilityCommandTruckChangeBattlePlans
    UpdateModuleStartsAttack = Yes
  End
  Behavior = BattlePlanUpdate ModuleTag_Strategy02
    SpecialPowerTemplate              = SpecialAbilityCommandTruckChangeBattlePlans

    ;Transition Timings
    BombardmentPlanAnimationTime      = 2500
    HoldTheLinePlanAnimationTime      = 2500
    SearchAndDestroyPlanAnimationTime = 2500
    TransitionIdleTime                = 0

    ;Messages
    BombardmentMessageLabel      = MESSAGE:BattlePlanBombardmentInitiated
    HoldTheLineMessageLabel      = MESSAGE:BattlePlanHoldTheLineInitiated
    SearchAndDestroyMessageLabel = MESSAGE:BattlePlanSearchAndDestroyInitiated

    ;Audio hooks
    BombardmentPlanUnpackSoundName        = StrategyCenter_BombardmentPlanUnpackSound
    BombardmentPlanPackSoundName          = StrategyCenter_BombardmentPlanPackSound
    BombardmentAnnouncementName           = StrategyCenter_BombardmentPlanAnnouncement
    SearchAndDestroyPlanUnpackSoundName   = StrategyCenter_SearchAndDestroyPlanUnpack
    SearchAndDestroyPlanIdleLoopSoundName = StrategyCenter_SearchAndDestroyPlanIdleLoop
    SearchAndDestroyPlanPackSoundName     = StrategyCenter_SearchAndDestroyPlanPack
    SearchAndDestroyAnnouncementName      = StrategyCenter_SearchAndDestroyAnnouncement
    HoldTheLinePlanUnpackSoundName        = StrategyCenter_HoldTheLinePlanUnpack
    HoldTheLinePlanPackSoundName          = StrategyCenter_HoldTheLinePlanPack
    HoldTheLineAnnouncementName           = StrategyCenter_HoldTheLineAnnouncement

    ;Army bonuses granted by different battle plans
    ValidMemberKindOf                   = INFANTRY CAN_ATTACK VEHICLE ;Battle plans affect any kind of these...
    InvalidMemberKindOf                 = DOZER STRUCTURE AIRCRAFT DRONE HARVESTER ;...but make sure they don't have any of these
    BattlePlanChangeParalyzeTime          = 5000 ;Subjected to paralyzation whenever a battle plan is changed.
    HoldTheLinePlanArmorDamageScalar      = 0.8 ;Armor damage bonus scalar -- LESS is better!
    SearchAndDestroyPlanSightRangeScalar  = 1.2 ;Sight range bonus -- more is better!
    ;***NOTE*** WEAPON bonuses for army are specified in GameData.ini file!

    ;Building bonuses granted based on battle plan mode.
    StrategyCenterSearchAndDestroySightRangeScalar = 2.0
    StrategyCenterSearchAndDestroyDetectsStealth   = No
    StrategyCenterHoldTheLineMaxHealthScalar       = 2.0
    StrategyCenterHoldTheLineMaxHealthChangeType   = PRESERVE_RATIO

  End

  Behavior                   = SpyVisionSpecialPower SpyTag_1
    SpecialPowerTemplate     = SuperweaponCIAIntelligence   
    BaseDuration             =  30000 ;in milliseconds
    BonusDurationPerCaptured =  10000 ;in milliseconds
    MaxDuration              = 240000 ;in milliseconds    
  End
  Behavior                   = SpyVisionUpdate SpyTag_2
    ;<NO DATA>
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 13.5     
  GeometryIsSmall     = Yes 
  Shadow              = SHADOW_VOLUME
  ShadowSizeX         = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;********************
; Extra Requirements
;********************

;The invisible STRUCTURE that allows the truck to 'count' as a building.
;Worldbuilder will spit out some stuff about mobile structures. Just ignore it.
Object AmericaCommandTruckStructure
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AmericaCommandTruck
  Side                = America
  EditorSorting       = SYSTEM
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)

  ArmorSet
    Conditions        = None
    Armor             = InvulnerableAllArmor
    DamageFX          = EmptyDamageFX
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = NOT_ON_RADAR
  KindOf = PRELOAD VEHICLE CAN_ATTACK DRONE NO_SELECT EMP_HARDENED STRUCTURE MP_COUNT_FOR_VICTORY IMMUNE_TO_CAPTURE
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_04
  End
  Locomotor = SET_NORMAL ChinooksPDLDummyObjectLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
    KillWhenRestingOnGround = Yes
    AllowBouncing = No
  End

  Behavior = SlavedUpdate ModuleTag_07
    GuardMaxRange = 1      ;How far away from master I'm allowed when master is idle (doesn't wander)
    GuardWanderRange = 1   ;How far away I'm allowed to wander from master while guarding.
    AttackRange = 1        ;How far away from master I'm allowed when master is attacking a target.
    AttackWanderRange = 1  ;How far I'm allowed to wander from target.
    ScoutRange = 1         ;How far away from master I'm allowed when master is moving.
    ScoutWanderRange = 1   ;How far I'm allowed to wander from scout point.
    StayOnSameLayerAsMaster = Yes
  End

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 1
  GeometryMinorRadius = 1
  GeometryHeight = 1.0     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End